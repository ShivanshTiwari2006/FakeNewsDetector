"use strict";(self.webpackChunkfakenewsdetector=self.webpackChunkfakenewsdetector||[]).push([[190],{190:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var o=a(722),t=a(43),r=a(250),n=a(115),l=a(579);const c=()=>{const[e,s]=(0,t.useState)(""),[a,c]=(0,t.useState)(""),[i,d]=(0,t.useState)({}),u=(0,r.Zp)(),g=async()=>{try{const e=sessionStorage.getItem("authToken");if(console.log(e),!e)return;const s=await o.A.get("http://localhost:3000/api/auth/get-userDetails",{headers:{Authorization:"Bearer ".concat(e)}});console.log(s),s.data.success?console.log(s.data.user):console.log(s.data.message||"Failed to fetch user details")}catch(a){var e,s;console.error("Error fetching user details:",a),console.log((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||"An error occurred")}};return(0,l.jsxs)("div",{className:"login-container",children:[(0,l.jsx)("h2",{children:"Login"}),(0,l.jsxs)("form",{onSubmit:async s=>{s.preventDefault();try{const s=await o.A.post("http://localhost:3000/api/auth/login",{email:e,password:a});if(s.data.success){console.log(s),n.oR.success("Login successful!");const e=s.data.token;console.log(e),sessionStorage.setItem("authToken",e),u("/homeScreen"),g()}else n.oR.error(s.data.message||"Login failed")}catch(t){console.error("Error during login:",t),n.oR.error(t.response.data.message||"Something went wrong. Please try again later.")}},children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Email"}),(0,l.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",value:e,onChange:e=>s(e.target.value)}),i.email&&(0,l.jsx)("span",{className:"error-message",children:i.email})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Password"}),(0,l.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password",value:a,onChange:e=>c(e.target.value)}),i.password&&(0,l.jsx)("span",{className:"error-message",children:i.password})]}),(0,l.jsx)("button",{type:"submit",className:"login-btn",children:"Login"})]}),(0,l.jsxs)("p",{style:{textAlign:"center"},children:["Don't have an account?"," ",(0,l.jsx)(r.N_,{to:"/signUp",className:"toggle-link",style:{color:"#007BFF",textDecoration:"underline"},children:"Sign Up"})]})]})}}}]);
//# sourceMappingURL=190.57a423ca.chunk.js.map